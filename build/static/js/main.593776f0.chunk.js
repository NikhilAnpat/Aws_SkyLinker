(this.webpackJsonpproject_fe=this.webpackJsonpproject_fe||[]).push([[0],{109:function(e,t){},111:function(e,t,s){},121:function(e,t,s){},122:function(e,t,s){"use strict";s.r(t);var a,r=s(1),c=s.n(r),n=s(25),i=s.n(n),o=(s(67),s(40),s(11)),l=s(13),d=s(2),j=s(7),h="USER_SIGNIN_REQUEST",b="USER_SIGNIN_SUCCESS",u="USER_SIGNIN_FAIL",m="USER_SIGNOUT",O="USER_SIGNUP_REQUEST",p="USER_SIGNUP_SUCCESS",x="USER_SIGNUP_FAIL",g=s(5),f=s.n(g),v="http://localhost:8080",y=f.a.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}}),N=function(e,t){return console.log("auth call",e,t),y.post("http://localhost:8080/api/signin",{email:e,password:t})},k=function(e,t){sessionStorage.setItem("jwt_token",t),sessionStorage.setItem("user_dtls",e)},S=(s(123),s(3)),C=s(4),D=new(function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,[{key:"fetchCities",value:function(){return f.a.get(v+"/cities")}}]),e}()),w=s(56),A=s(62),F=sessionStorage.getItem("jwt_token"),E=Object(A.a)(a||(a=Object(w.a)(["query get_flights($fromCity: String!,$toCity: String!, $departureDate: String!) {\n  get_flights(fromCity: $fromCity, toCity: $toCity ,departureDate: $departureDate) {\n    id\n    airlineName\n    airlineNo\n    departureDate\n    arrivalDate\n    fromCity\n    toCity\n    departureTime\n    arrivalTime\n    capacity\n    availableSeats\n    economyFare\n    businessFare\n  }\n}"]))),T=new(function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,[{key:"fetchFlightById",value:function(e){return f.a.get(v+"/customer/select_flight",{params:{aid:e},headers:{Authorization:"Bearer ".concat(F)}})}},{key:"editFlight",value:function(e){return f.a.put(v+"/manager/update_airline",e,{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"getBookingsByFlightId",value:function(e){return f.a.get(v+"/manager/get_bookings/"+e,{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"getBookingsByUserId",value:function(e){return f.a.get(v+"/customer/get_userbookings/"+e,{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"cancelBookingByBookId",value:function(e){return f.a.delete(v+"/manager/delete_booking",{params:{bid:e},headers:{Authorization:"Bearer ".concat(F)}})}},{key:"addAirline",value:function(e){return f.a.post(v+"/admin/add_airline",e,{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"updateBooking",value:function(e){return console.log(e),f.a.put(v+"/manager/update_booking/"+e,{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"cancelBookingByUserId",value:function(e){return f.a.delete(v+"/customer/cancel_ticket",{params:{bId:e},headers:{Authorization:"Bearer ".concat(F)}})}},{key:"getFlight",value:function(e,t,s){return f.a.get(v+"/search_flight/"+s,{params:{fromCity:e,toCity:t},headers:{Authorization:"Bearer ".concat(F)}})}},{key:"getFlightsGraphQL",value:function(e,t,s){return f.a.post(v+"/graphql",{query:E,variables:{fromCity:e,toCity:t,departureDate:s}}).data.data.get_flights}},{key:"getAirlineNames",value:function(){return f.a.get(v+"/admin/airline_names",{headers:{Authorization:"Bearer ".concat(F)}})}},{key:"addCities",value:function(e){return console.log("add cities axios"),f.a.put(v+"/admin/add_city",e,{headers:{Authorization:"Bearer ".concat(F)}})}}]),e}()),I=s(0),B=function(e){return Object(I.jsx)("div",{children:Object(I.jsx)("h3",{className:"title",children:e.title})})};B.defaultProps={title:" "};var _=B,R=(s(92),s(57)),P=s.n(R),L=function(e){var t=Object(r.useState)(""),s=Object(d.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(""),i=Object(d.a)(n,2),m=i[0],O=i[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),g=x[0],y=x[1],S=Object(r.useState)(""),C=Object(d.a)(S,2),w=C[0],A=C[1],F=Object(r.useState)(""),E=Object(d.a)(F,2),B=E[0],_=E[1],R=Object(r.useState)([]),L=Object(d.a)(R,2),M=L[0],U=L[1],q=Object(r.useState)([]),G=Object(d.a)(q,2),z=G[0],H=G[1],W=Object(r.useState)(""),J=Object(d.a)(W,2),Y=J[0],V=J[1],Q=Object(r.useState)(""),$=Object(d.a)(Q,2),X=$[0],Z=$[1],K=Object(r.useState)(""),ee=Object(d.a)(K,2),te=ee[0],se=ee[1],ae=Object(r.useState)(""),re=Object(d.a)(ae,2),ce=re[0],ne=re[1],ie=Object(r.useState)(""),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(j.c)((function(e){return e.userSignin})),he=je.loading,be=je.error,ue=je.response,me=Object(r.useState)(!0),Oe=Object(d.a)(me,2),pe=Oe[0],xe=(Oe[1],Object(l.f)()),ge=Object(j.b)();return Object(r.useEffect)((function(){D.fetchCities().then((function(e){console.log(e),U(e.data.data),console.log(M)})),ue&&"success"===ue.status&&"CUSTOMER"===ue.data.userRole?(sessionStorage.setItem("user",ue.data),sessionStorage.setItem("userid",ue.data.id),sessionStorage.setItem("userRole",ue.data.userRole),xe.push("/customer/search_flight"),window.location.reload()):ue&&"success"===ue.status&&"MANAGER"===ue.data.userRole?(sessionStorage.setItem("user",ue.data),sessionStorage.setItem("userid",ue.data.id),sessionStorage.setItem("userRole",ue.data.userRole),e.history.push("/manager"),window.location.reload()):ue&&"success"===ue.status&&"ADMIN"===ue.data.userRole?(sessionStorage.setItem("user",ue.data),sessionStorage.setItem("userid",ue.data.id),sessionStorage.setItem("userRole",ue.data.userRole),e.history.push("/admin"),window.location.reload()):ue&&"error"===ue.status?alert(ue.error):be&&P()("Oops","Wrong username or password","error")}),[he,be,ue]),Object(I.jsxs)("div",{className:"my-container",children:[Object(I.jsx)("form",{children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{class:"row",children:[Object(I.jsxs)("div",{class:"col-4",children:[Object(I.jsx)("label",{for:"fromcity",children:"From"}),Object(I.jsxs)("select",{id:"fromcity",class:"form-control",name:"fromcity",placeholder:"select from city",onChange:function(e){y(e.target.value)},children:[Object(I.jsx)("option",{value:"from",hidden:!0,selected:!0,children:"From"}),M.map((function(e){return Object(I.jsx)("option",{value:e.city,children:e.city},e.id)}))]}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:Y})]}),Object(I.jsxs)("div",{class:"col-4",children:[Object(I.jsx)("label",{for:"toCity",children:"Destination"}),Object(I.jsxs)("select",{id:"toCity",class:"form-control",name:"toCity",placeholder:"select from city",onChange:function(e){A(e.target.value)},children:[Object(I.jsx)("option",{value:"destination",hidden:!0,selected:!0,children:"Destination"}),M.map((function(e){return Object(I.jsx)("option",{value:e.city,children:e.city},e.id)}))]}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:X})]}),Object(I.jsxs)("div",{class:"col-4",children:[Object(I.jsx)("label",{children:"Departure Date"}),Object(I.jsx)("input",{type:"date",class:"form-control",name:"departureDate",placeholder:"Departure Date",onChange:function(e){_(e.target.value)}}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:le})]})]}),Object(I.jsx)("button",{className:"btn btn-success",onClick:function(e){console.log("In clg "+g+w+" "+B),e.preventDefault(),console.log(new Date),V(g?"":"Please Select a City"),Z(g===w?"Please Select different Cities":w?"":"Please Select a City");var t=new Date,s=new Date(B);B?s<t.setHours(0,0,0,0)?de("Please select a Valid Journey Date"):de(""):de("Please select Journey Date"),g!==w&&g&&w&&B&&s>t.setHours(0,0,0,0)&&T.getFlight(g,w,B).then((function(e){console.log(e),H(e.data),console.log(z)}))},children:"Search"})]})}),"Currently No Flights Available For this Route"===z&&Object(I.jsx)("div",{className:"text-danger text-center my-4",children:"Currently No Flights Available For this Route"}),"Currently No Flights Available For this Route"!==z&&z.length>0&&Object(I.jsx)("div",{className:"my-4",children:Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Economy Fare"}),Object(I.jsx)("th",{scope:"col",children:"Business Fare"})]})}),Object(I.jsx)("tbody",{children:z.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:e.airlineName}),Object(I.jsx)("td",{children:e.airlineNo}),Object(I.jsx)("td",{children:e.fromCity}),Object(I.jsx)("td",{children:e.toCity}),Object(I.jsx)("td",{children:e.departureDate}),Object(I.jsx)("td",{children:e.arrivalDate}),Object(I.jsx)("td",{children:e.departureTime}),Object(I.jsx)("td",{children:e.arrivalTime}),Object(I.jsx)("td",{children:e.economyFare}),Object(I.jsx)("td",{children:e.businessFare})]},e.id)}))})]})}),Object(I.jsx)("div",{id:"myCarousel",className:"carousel slide","data-bs-ride":"carousel"}),Object(I.jsxs)("div",{className:"row justify-content-center",children:[Object(I.jsx)("div",{className:"col-md-6 col-md-6",children:Object(I.jsxs)("div",{className:"login-wrap p-4 p-md-5",children:[Object(I.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(I.jsx)("span",{className:"fa fa-user-o"})}),Object(I.jsx)("h3",{className:"text-center mb-4",children:"Have an account?"}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("input",{onChange:function(e){c(e.target.value)},type:"email",className:"form-control rounded-left",placeholder:"Email"}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:te})]}),Object(I.jsxs)("div",{className:"form-group d-flex",children:[Object(I.jsx)("input",{onChange:function(e){O(e.target.value)},type:"password",className:"form-control rounded-left my-4",placeholder:"Password",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:ce})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("h6",{className:"float-end",children:["New user",Object(I.jsx)(o.b,{to:"/signup",children:Object(I.jsx)("span",{children:" register here"})})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"form-group my-3",children:Object(I.jsx)("button",{onClick:function(){se(a?"":"Email is required"),ne(m?"":"Password Is Required "),N(a,m).then((function(e){console.log("auth success",e),k(a,e.data.jwt),console.log("welcome")})).catch((function(e){console.log("auth failed ",e.message)})),a&&m&&ge(function(e,t){return function(s){s({type:h});var a={email:e,password:t},r=v+"/user/login";f.a.post(r,a,{headers:{"Content-Type":"application/json"}}).then((function(e){s({type:b,payload:e.data})})).catch((function(e){console.log("in catch error"),s({type:u,payload:e})}))}}(a,m))},disabled:!pe,type:"submit",className:"btn btn-primary rounded submit p-2 px-4",children:"Login"})}),Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("a",{href:"/forgot-password",children:"Forgot Password?"})})]})}),Object(I.jsx)("section",{children:Object(I.jsxs)("div",{class:"container ",children:[Object(I.jsx)("div",{class:"clearfix",children:Object(I.jsx)("br",{})}),Object(I.jsx)("div",{class:"customer-security",children:Object(I.jsxs)("ul",{children:[Object(I.jsxs)("li",{children:[Object(I.jsxs)("div",{class:"img-bg img2",children:[Object(I.jsx)("img",{width:"250px",src:"https://media.istockphoto.com/vectors/insurance-hand-icon-risk-coverage-sign-vector-vector-id1226966972?k=20&m=1226966972&s=612x612&w=0&h=4STddzCaJjYZNagXpw8PS2odwiNXm559OsNHwUMfFhE="}),Object(I.jsx)("span",{children:Object(I.jsx)("b",{children:"Why Choose us?"})}),Object(I.jsxs)("h5",{children:[Object(I.jsx)("p",{children:"Airline Reservation And Management System is a one step solution for all of your air ticket needs. We present exclusive offers or deals on domestic flight tickets. You can avail the enchanting deals via using promo codes, gift coupons and rewards. Apart from affordable flight booking you also get round the clock customer service."})," "]})]}),Object(I.jsx)("div",{class:"text-box"})]}),Object(I.jsxs)("li",{children:[Object(I.jsxs)("div",{class:"img-bg img1",children:[Object(I.jsx)("img",{width:"250px",src:"https://cheapestflightsearch.files.wordpress.com/2019/08/cheap-flights.png"}),Object(I.jsx)("span",{children:Object(I.jsx)("b",{children:"Find Affordable flight ticket"})}),Object(I.jsx)("h5",{children:Object(I.jsx)("p",{children:"Air travel is still a dream for many people and the reason is their small budget. That\u2019s why we try to provide our customers affordable flight tickets. We give exclusive offers and rewards which makes your flight booking affordable. Before booking an air ticket you must check our offers section."})})]}),Object(I.jsx)("div",{class:"text-box"})]}),Object(I.jsxs)("li",{children:[Object(I.jsxs)("div",{class:"img-bg img3",children:[Object(I.jsx)("img",{width:"250px",src:"https://png.pngtree.com/png-clipart/20191122/original/pngtree-technical-support-vector-24-7-support-working-online-tech-support-flat-png-image_5189955.jpg"}),Object(I.jsxs)("span",{children:["\xa0\xa0\xa0",Object(I.jsx)("b",{children:"24X7 support"})]})]}),Object(I.jsx)("div",{class:"text-box",children:Object(I.jsx)("h5",{children:" Airline Reservation And Management System has a 24x7 customer support team which resolves all kinds of flight book issues as soon as possible. We value our customers' time. So we try to resolve all our customer queries as soon as possible. To get more information about flight booking or its prices call our expert customer executives."})})]})]})})]})})]})]})},M=s(28),U=s(58),q=s(59),G=s.n(q),z=s(60),H="FLIGHT_FETCH_REQUEST",W="FLIGHT_FETCH_SUCCESS",J="FLIGHT_FETCH_FAIL",Y="FLIGHT_CANCEL_REQUEST",V="FLIGHT_CANCEL_SUCCESS",Q="FLIGHT_CANCEL_FAIL",$="ADDMANAGER_REQUEST",X="ADDMANAGER_SUCCESS",Z="ADDMANAGER_FAIL",K="ADDMANAGER_RESET",ee=Object(M.combineReducers)({userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case b:return{loading:!1,response:t.payload};case u:return{loading:!1,error:t.payload};case m:return{};default:return e}},userSignup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case p:return{loading:!1,response:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},fetchFlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case W:return{loading:!1,response:t.payload};case J:return{loading:!1,error:t.payload};case"FLIGHT_FETCH_RESET":return{};default:return e}},cancelFlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case V:return{loading:!1,response:t.payload};case Q:return{loading:!1,error:t.payload};case"FLIGHT_CANCEL_RESET":return{};default:return e}},addManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case X:return{loading:!1,response:t.payload};case Z:return{loading:!1,error:t.payload};case K:return{};default:return e}}}),te=Object(M.createStore)(ee,Object(U.composeWithDevTools)(Object(M.applyMiddleware)(G.a,z.a))),se=function(e){var t=Object(r.useState)(""),s=Object(d.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(""),i=Object(d.a)(n,2),o=i[0],l=i[1],h=Object(r.useState)(""),b=Object(d.a)(h,2),u=b[0],m=b[1],g=Object(r.useState)(""),y=Object(d.a)(g,2),N=y[0],k=y[1],S=Object(r.useState)(""),C=Object(d.a)(S,2),D=C[0],w=C[1],A=Object(r.useState)(1),F=Object(d.a)(A,2),E=F[0],T=(F[1],Object(r.useState)(["ROLE_CUSTOMER"])),B=Object(d.a)(T,2),_=B[0],R=(B[1],Object(r.useState)("")),P=Object(d.a)(R,2),L=P[0],M=P[1],U=Object(r.useState)(""),q=Object(d.a)(U,2),G=q[0],z=q[1],H=Object(r.useState)(""),W=Object(d.a)(H,2),J=W[0],Y=W[1],V=Object(r.useState)(""),Q=Object(d.a)(V,2),$=Q[0],X=Q[1],Z=Object(r.useState)(""),K=Object(d.a)(Z,2),ee=K[0],te=K[1],se=Object(j.c)((function(e){return e.userSignup})),ae=se.loading,re=se.error,ce=se.response,ne=Object(j.b)();return Object(r.useEffect)((function(){ce&&"success"===ce.status?e.history.push("/signin"):(ce&&"error"===ce.status||re)&&(console.log("here"),alert("User Already Exist, Please login or try with another email"))}),[ae,re,ce]),Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"row justify-content-center",children:Object(I.jsx)("div",{className:"col-md-6 col-lg-5",children:Object(I.jsxs)("div",{className:"login-wrap p-4 p-md-5",children:[Object(I.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(I.jsx)("span",{className:"fa fa-user-o"})}),Object(I.jsx)("h3",{className:"text-center mb-4",children:"SignUp "}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("input",{onChange:function(e){c(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"First Name",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:L})]}),Object(I.jsxs)("div",{className:"form-group my-2",children:[Object(I.jsx)("input",{onChange:function(e){l(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"Last Name",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:G})]}),Object(I.jsxs)("div",{className:"form-group my-2",children:[Object(I.jsx)("input",{onChange:function(e){m(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"Email",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:J})]}),Object(I.jsxs)("div",{className:"form-group d-flex my-2",children:[Object(I.jsx)("input",{onChange:function(e){k(e.target.value)},type:"password",className:"form-control rounded-left",placeholder:"Password",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:$})]}),Object(I.jsxs)("div",{className:"form-group d-flex my-2",children:[Object(I.jsx)("input",{onChange:function(e){w(e.target.value)},type:"number",className:"form-control rounded-left",placeholder:"Mobile Number",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:ee})]}),Object(I.jsx)("div",{className:"form-group my-3",children:Object(I.jsx)("button",{onClick:function(){M(a?"":"First Name is mandatory!!!"),z(o?"":"Last Name is mandatory !!!"),Y(u?"":"Email is required !!!"),X(N?"":"Password is required !!!"),te(D?"":"Mobile no. is required !!!"),a&&o&&u&&N&&D&&ne(function(e,t,s,a,r,c,n){return function(i){i({type:O});var o={firstName:e,lastName:t,email:s,password:a,mobileNo:r,status:c,roles:n},l=v+"/api/signup";f.a.post(l,o,{headers:{"Content-Type":"application/json"}}).then((function(e){i({type:p,payload:e.data})})).catch((function(e){i({type:x,payload:e})}))}}(a,o,u,N,D,E,_))},type:"submit",className:"btn btn-primary rounded submit p-2 px-4",children:"Signup"})})]})})})})},ae=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.userSignin})),a=(s.loading,s.error,s.response,Object(r.useState)(sessionStorage.getItem("userRole"))),c=Object(d.a)(a,2),n=c[0];c[1];return Object(r.useEffect)((function(){console.log("Manager screen use effect called")}),[n]),Object(I.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",children:Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsx)("a",{className:"navbar-brand",href:"/",children:"Airline Reservation System"}),Object(I.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(I.jsx)("span",{className:"navbar-toggler-icon"})}),Object(I.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:[Object(I.jsxs)("ul",{className:"navbar-nav",children:[!sessionStorage.getItem("userRole")&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/",children:Object(I.jsx)("span",{className:"nav-link",children:"Home"})})}),"CUSTOMER"==sessionStorage.getItem("userRole")&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/customer/search_flight",children:Object(I.jsx)("span",{className:"nav-link",children:"Home"})})}),"MANAGER"==sessionStorage.getItem("userRole")&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/manager",children:Object(I.jsx)("span",{className:"nav-link",children:"Home"})})}),"ADMIN"==sessionStorage.getItem("userRole")&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/admin",children:Object(I.jsx)("span",{className:"nav-link",children:"Home"})})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/contactUs",children:Object(I.jsx)("span",{className:"nav-link",children:"Contact Us"})})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/about",children:Object(I.jsx)("span",{className:"nav-link",children:"About"})})}),!sessionStorage.getItem("userRole")&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/signup",children:Object(I.jsx)("span",{className:"nav-link",children:"Signup"})})}),s.response&&Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(o.b,{to:"/edit_profile",children:Object(I.jsx)("span",{className:"nav-link",children:"Edit Profile"})})})]}),"MANAGER"==sessionStorage.getItem("userRole")&&Object(I.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDarkDropdown",children:Object(I.jsx)("ul",{className:"navbar-nav",children:Object(I.jsxs)("li",{className:"nav-item dropdown",children:[Object(I.jsx)("span",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDarkDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Manager Actions"}),Object(I.jsxs)("ul",{className:"dropdown-menu dropdown-menu-light","aria-labelledby":"navbarDarkDropdownMenuLink",children:[Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/update_flight",children:Object(I.jsx)("span",{className:"dropdown-item",children:"Update Flight Schedule"})})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/cancel_flight",children:Object(I.jsx)("span",{className:"dropdown-item",children:"Cancel Flight"})})}),Object(I.jsx)(o.b,{to:"/add_airline",children:Object(I.jsx)("span",{className:"dropdown-item",href:"#",children:"Add Flight"})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/passenger_list",children:Object(I.jsx)("span",{className:"dropdown-item",children:"Passenger List"})})})]})]})})}),"ADMIN"==sessionStorage.getItem("userRole")&&Object(I.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDarkDropdown",children:Object(I.jsx)("ul",{className:"navbar-nav",children:Object(I.jsxs)("li",{className:"nav-item dropdown",children:[Object(I.jsx)("span",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDarkDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Admin Actions"}),Object(I.jsxs)("ul",{className:"dropdown-menu dropdown-menu-light","aria-labelledby":"navbarDarkDropdownMenuLink",children:[Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/add_manager",children:Object(I.jsx)("span",{className:"dropdown-item",href:"#",children:"Add Manager"})})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/show_feedback",children:Object(I.jsx)("span",{className:"dropdown-item",href:"#",children:"Show Feedbacks"})})})]})]})})}),"CUSTOMER"==sessionStorage.getItem("userRole")&&Object(I.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDarkDropdown",children:Object(I.jsx)("ul",{className:"navbar-nav",children:Object(I.jsxs)("li",{className:"nav-item dropdown",children:[Object(I.jsx)("span",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDarkDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Other Options"}),Object(I.jsxs)("ul",{className:"dropdown-menu dropdown-menu-light","aria-labelledby":"navbarDarkDropdownMenuLink",children:[Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/show_userbookings",children:Object(I.jsx)("span",{className:"dropdown-item",href:"#",children:"Cancel Booking"})})}),Object(I.jsx)("li",{children:Object(I.jsx)(o.b,{to:"/customer_showBookings",children:Object(I.jsx)("span",{className:"dropdown-item",href:"#",children:"Booking History"})})})]})]})})})]}),sessionStorage.getItem("userRole")&&Object(I.jsx)("div",{className:"d-flex",children:Object(I.jsx)("button",{onClick:function(){t((function(e){sessionStorage.removeItem("token"),e({type:m}),document.location.href="/signin"})),window.sessionStorage.removeItem("user"),window.sessionStorage.removeItem("userid"),window.sessionStorage.removeItem("userRole"),window.sessionStorage.removeItem("jwt_token"),e.history.push("/signin")},className:"btn btn-outline-danger",children:"Logout"})})]})})},re=sessionStorage.getItem("jwt_token"),ce=function(){return function(e){e({type:H});var t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(re)}},s=v+"/manager/get_flights";f.a.get(s,t).then((function(t){e({type:W,payload:t.data})})).catch((function(t){e({type:J,payload:t})}))}},ne=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.fetchFlight})),a=(s.loading,s.error,s.response);return Object(r.useEffect)((function(){console.log("Manager screen use effect called"),t(ce())}),[]),Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Scheduled Flights"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"})]})}),Object(I.jsx)("tbody",{children:a&&a.data&&a.data.length>0&&a.data.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:e.airlineName}),Object(I.jsx)("td",{children:e.airlineNo}),Object(I.jsx)("td",{children:e.fromCity}),Object(I.jsx)("td",{children:e.toCity}),Object(I.jsx)("td",{children:e.departureDate}),Object(I.jsx)("td",{children:e.arrivalDate}),Object(I.jsx)("td",{children:e.departureTime}),Object(I.jsx)("td",{children:e.arrivalTime})]})}))})]})]})},ie=s(23),oe=s(18),le=s(6),de=s(9),je=s(10),he=sessionStorage.getItem("jwt_token"),be=new(function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,[{key:"fetchUserById",value:function(e){return f.a.get(v+"/user/get_user/"+e,{headers:{Authorization:"Bearer ".concat(he)}})}},{key:"editUser",value:function(e,t){return f.a.put(v+"/user/edit_profile",e,{params:{uid:t},headers:{Authorization:"Bearer ".concat(he)}})}},{key:"getbookingsByUserId",value:function(e){return f.a.get(v+"/customer/get_userbookings/"+e,{headers:{Authorization:"Bearer ".concat(he)}})}},{key:"postFeedback",value:function(e,t){return f.a.put(v+"/customer/post_feedback",e,{params:{bid:t},headers:{Authorization:"Bearer ".concat(he)}})}},{key:"bookTicket",value:function(e){return f.a.post(v+"/customer/book-ticket",e,{headers:{Authorization:"Bearer ".concat(he)}})}}]),e}()),ue=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.searchFlight=function(e){console.log("In clg "+a.state.fromcity+" "+a.state.toCity+" "+a.state.departureDate+"  "+a.state.selectedType+" "+a.state.noOfPassengers),e.preventDefault(),console.log(new Date),a.state.fromcity?a.setState({fromcityError:""}):a.setState({fromcityError:"Please Select a City"}),a.state.fromcity===a.state.toCity?a.setState({toCityError:"Please Select different Cities"}):a.state.toCity?a.setState({toCityError:""}):a.setState({toCityError:"Please Select a City"}),a.state.departureDate?a.setState({departureDateError:""}):a.setState({departureDateError:"Please select Journey Date"}),a.state.noOfPassengers?a.setState({noOfPassengersError:""}):a.setState({noOfPassengersError:"Please select number of Passengers"}),a.state.selectedSeatType?a.setState({selectedSeatTypeError:""}):a.setState({selectedSeatTypeError:"Please select seat type"}),a.state.fromcity!==a.state.toCity&&a.state.fromcity&&a.state.toCity&&a.state.departureDate&&a.state.noOfPassengers&&a.state.selectedSeatType&&T.getFlight(a.state.fromcity,a.state.toCity,a.state.departureDate).then((function(e){console.log(e),a.setState({flights:e.data,passengers:[],selectedFlight:null}),console.log(a.state.flights)}))},a.bookTicket=function(e){T.fetchFlightById(e).then((function(e){console.log(e),a.setState({selectedFlight:e.data.data,flights:[]});for(var t=function(e){a.setState((function(t){return{passengers:[].concat(Object(ie.a)(t.passengers),[e+1])}}))},s=0;s<a.state.noOfPassengers;s++)t(s);var r=0,c=0,n=0;console.log(a.state.selectedSeatType),n="ECONOMY"==a.state.selectedSeatType?(r=a.state.selectedFlight.economyFare*a.state.noOfPassengers)+(c=.18*r):(r=a.state.selectedFlight.businessFare*a.state.noOfPassengers)+(c=.18*r),a.setState({baseFare:r,taxes:c,totalAmount:n}),console.log(a.state.selectedFlight),console.log("passengers array "+a.state.passengers)}))},a.savePassenger=function(e){console.log("here savepassenger"+a.state.passengerDto),a.state.passengerName.length<0&&a.setState({passengerNameError:"Please enter Name"}),a.state.passengerName.length<3?a.setState({passengerNameError:"Please enter a Valid Name"}):a.setState({passengerNameError:""}),a.state.passengerAge?a.state.passengerAge<=0?a.setState({passengerAgeError:"Please enter  Age"}):a.setState({passengerAgeError:""}):a.setState({passengerAgeError:"Please enter  Age"}),a.state.gender?a.setState({genderError:""}):a.setState({genderError:"Please select a gender"}),a.state.passengerName.length>=3&&a.state.passengerName&&a.state.passengerAge&&a.state.gender&&(a.state.passengerAge<=17?a.setState({passengerType:"MINOR"}):a.setState({passengerType:"ADULT"})),console.log("in save psgr "+a.state.passengerName+" "+a.state.passengerAge+" "+a.state.gender);var t={passengerType:a.state.passengerType,passengerName:a.state.passengerName,passengerAge:a.state.passengerAge,gender:a.state.gender,seatNumber:a.state.selectedFlight.availableSeats-e};sessionStorage.setItem("passenger"+e,JSON.stringify(t)),console.log(a.state.passengerDto)},a.submitCardDetails=function(){if(a.state.cardNumber?a.state.cardNumber.length>16||a.state.cardNumber.length<16?a.setState({cardNumberError:"Please enter a valid card number"}):a.setState({cardNumberError:""}):a.setState({cardNumberError:"Please enter card number"}),a.state.nameOnCard?a.setState({nameOnCardError:""}):a.setState({nameOnCardError:"Please enter Name"}),a.state.expiryDate?a.setState({expiryDateError:""}):a.setState({expiryDateError:"Please enter Expiry Date"}),a.state.cvv?a.state.cvv.length<3||a.state.cvv.length>3?a.setState({cvvError:"Please enter a Valid cvv"}):a.setState({cvvError:""}):a.setState({cvvError:"Please enter cvv"}),a.state.cardNumber&&16==a.state.cardNumber.length&&a.state.nameOnCard&&a.state.expiryDate&&a.state.cvv&&3==a.state.cvv.length){var e={cardNumber:a.state.cardNumber,nameOnCard:a.state.nameOnCard,expiryDate:a.state.expiryDate};sessionStorage.setItem("card",JSON.stringify(e)),console.log(e),a.setState({cardDto:e}),console.log(a.state.cardDto)}},a.confirmBooking=function(){var e=1,t=1,s=[];for(console.log("passenger"+e),console.log("no of pass : "+a.state.noOfPassengers),e=0;e<a.state.noOfPassengers;e++){var r=JSON.parse(sessionStorage.getItem("passenger"+t));console.log(r),s.push(r),t++}console.log(s);var c=JSON.parse(sessionStorage.getItem("card"));console.log(c);var n={totalFare:a.state.totalAmount,seatType:a.state.selectedSeatType,status:1,airlineId:a.state.selectedFlight.id};console.log(n);var i={userId:sessionStorage.getItem("userid"),cardDto:c,bookingDto:n,passengerDto:s};console.log(i),be.bookTicket(i).then((function(e){sessionStorage.removeItem("card");for(var t=1,s=0;s<a.state.noOfPassengers;s++)sessionStorage.removeItem("passenger"+t),t++;a.setState({passengers:[],selectedFlight:null,passengerName:"",passengerAge:"",gender:"",message:"flight booked Successfully"})}))},a.state={cities:[],fromcity:"",toCity:"",departureDate:"",noOfPassengers:0,passengers:[],flights:[],selectedSeatType:"",selectedFlight:null,passengerType:"",passengerName:"",passengerAge:"",gender:"",seatNumber:"",passengerDto:[],way:"",baseFare:0,taxes:0,totalAmount:0,nameOnCard:"",cardNumber:"",expiryDate:"",cardDto:{},message:"",cvv:0},a.bookTicket=a.bookTicket.bind(Object(le.a)(a)),a.confirmBooking=a.confirmBooking.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.loadCities()}},{key:"loadCities",value:function(){var e=this;D.fetchCities().then((function(t){console.log(t),e.setState({cities:t.data.data}),console.log(e.state.cities)}))}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{class:"jumbotron1",children:[Object(I.jsx)(_,{title:"Search Flight"}),Object(I.jsxs)("form",{children:[Object(I.jsx)("p",{Style:"color:green;",children:this.state.message}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{class:"row",children:[Object(I.jsxs)("div",{class:"col-6",children:[Object(I.jsx)("label",{for:"fromcity",children:"From"}),Object(I.jsxs)("select",{id:"fromcity",class:"form-control",name:"fromcity",placeholder:"select from city",onChange:this.onChange,children:[Object(I.jsx)("option",{value:"from",hidden:!0,selected:!0,children:"From"}),this.state.cities.map((function(e){return Object(I.jsx)("option",{value:e.city,children:e.city})}))]}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:this.state.fromcityError})]}),Object(I.jsxs)("div",{class:"col-6",children:[Object(I.jsx)("label",{for:"toCity",children:"Destination"}),Object(I.jsxs)("select",{id:"toCity",class:"form-control",name:"toCity",placeholder:"select from city",onChange:this.onChange,children:[Object(I.jsx)("option",{value:"destination",hidden:!0,selected:!0,children:"Destination"}),this.state.cities.map((function(e){return Object(I.jsx)("option",{value:e.city,children:e.city})}))]}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:this.state.toCityError})]})]}),Object(I.jsxs)("div",{class:"row my-4",children:[Object(I.jsxs)("div",{class:"col-6",children:[Object(I.jsx)("label",{children:"Departure Date"}),Object(I.jsx)("input",{type:"date",class:"form-control",name:"departureDate",placeholder:"Departure Date",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:this.state.departureDateError})]}),Object(I.jsxs)("div",{class:"col-6",children:[Object(I.jsx)("label",{children:"Passengers"}),Object(I.jsxs)("select",{id:"noOfPassengers",class:"form-control",name:"noOfPassengers",placeholder:"select Passengers",onChange:this.onChange,children:[Object(I.jsx)("option",{value:"select",children:"Select Passengers"}),Object(I.jsx)("option",{value:"1",children:"1"}),Object(I.jsx)("option",{value:"2",children:"2"}),Object(I.jsx)("option",{value:"3",children:"3"}),Object(I.jsx)("option",{value:"4",children:"4"}),Object(I.jsx)("option",{value:"5",children:"5"}),Object(I.jsx)("option",{value:"6",children:"6"}),Object(I.jsx)("option",{value:"7",children:"7"}),Object(I.jsx)("option",{value:"8",children:"8"}),Object(I.jsx)("option",{value:"9",children:"9"})]}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.noOfPassengersError})]}),Object(I.jsxs)("div",{class:"col-6 my-4",children:[Object(I.jsx)("label",{class:"",children:"Type of Seat"}),Object(I.jsxs)("select",{id:"selectedType",class:"form-control",name:"selectedSeatType",placeholder:"select Type of Seat",onChange:this.onChange,children:[Object(I.jsx)("option",{value:"select",hidden:!0,selected:!0,children:"Select Type of Seat"}),Object(I.jsx)("option",{value:"ECONOMY",children:"Economy"}),Object(I.jsx)("option",{value:"BUSINESS",children:"Business"})]}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.selectedSeatTypeError})]})]}),Object(I.jsx)("button",{className:"btn btn-success",onClick:this.searchFlight,children:"Search"})]})]}),"Currently No Flights Available For this Route"===this.state.flights&&Object(I.jsx)("div",{className:"bg-danger text-center my-4",children:'"Currently No Flights Available For this Route"'}),"Currently No Flights Available For this Route"!==this.state.flights&&this.state.flights.length>0&&Object(I.jsx)("div",{className:"my-4",children:Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Economy Fare"}),Object(I.jsx)("th",{scope:"col",children:"Business Fare"}),Object(I.jsx)("th",{scope:"col",children:"Book Flight"})]})}),Object(I.jsx)("tbody",{children:this.state.flights.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:t.airlineName}),Object(I.jsx)("td",{children:t.airlineNo}),Object(I.jsx)("td",{children:t.fromCity}),Object(I.jsx)("td",{children:t.toCity}),Object(I.jsx)("td",{children:t.departureDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.departureTime}),Object(I.jsx)("td",{children:t.arrivalTime}),Object(I.jsx)("td",{children:t.economyFare}),Object(I.jsx)("td",{children:t.businessFare}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-outline-danger ",onClick:function(){e.setState({selectedFlightId:t.id}),e.bookTicket(t.id)},children:[" ","Book Flight"]})})]})}))})]})}),this.state.passengers.length>0&&Object(I.jsx)("div",{class:"row-6",Style:"align-self: center;",children:this.state.passengers.map((function(t){return Object(I.jsx)("div",{class:"card text-center my-4",children:Object(I.jsxs)("div",{class:"card-body",children:[Object(I.jsxs)("h6",{class:"card-title",children:["Passenger ",t," Details"]}),Object(I.jsxs)("div",{class:"row-6",children:[Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Passenger Name"}),Object(I.jsx)("input",{required:!0,type:"text",class:"form-control",name:"passengerName",placeholder:"Passenger Name",onChange:e.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:e.state.passengerNameError})]}),Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Age"}),Object(I.jsx)("input",{required:!0,type:"number",class:"form-control",placeholder:"Age",name:"passengerAge",onChange:e.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:e.state.passengerAgeError})]}),Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Gender"}),Object(I.jsxs)("select",{required:!0,class:"form-control",name:"gender",placeholder:"select ",onChange:e.onChange,children:[Object(I.jsx)("option",{value:"select",hidden:!0,selected:!0,children:"Select Gender"}),Object(I.jsx)("option",{value:"MALE",children:"MALE"}),Object(I.jsx)("option",{value:"FEMALE",children:"FEMALE"}),Object(I.jsx)("option",{value:"TRANSGENDER",children:"TRANSGENDER"})]}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:e.state.genderError})]})]}),Object(I.jsx)("button",{class:"btn btn-primary my-4",onClick:function(){e.savePassenger(t)},children:"Save"})]})})}))}),null!==this.state.selectedFlight&&Object(I.jsxs)("div",{class:"row-6",children:[Object(I.jsxs)("div",{class:"card text-center my-4 col",children:[Object(I.jsx)("div",{class:"card-header",children:"Ticket Summary"}),Object(I.jsxs)("div",{class:"card-body",children:[Object(I.jsxs)("p",{class:"card-text",children:["Ariline Name: ",this.state.selectedFlight.airlineName]}),Object(I.jsxs)("p",{class:"card-text",children:["Route : ",this.state.selectedFlight.fromCity,"---",this.state.selectedFlight.toCity]}),Object(I.jsxs)("p",{class:"card-text",children:["Travellers: ",this.state.noOfPassengers]}),Object(I.jsxs)("p",{class:"card-text",children:["Base Fare : ",this.state.baseFare]}),Object(I.jsxs)("p",{class:"card-text",children:["Taxes : ",this.state.taxes]}),Object(I.jsxs)("p",{class:"card-text",children:["Total Fare: ",this.state.totalAmount]})]})]}),Object(I.jsxs)("div",{class:"card text-center my-4 col",children:[Object(I.jsx)("div",{class:"card-header",children:"Enter Card Details"}),Object(I.jsxs)("div",{class:"card-body",children:[Object(I.jsx)("p",{class:"card-text"}),Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Name on Card"}),Object(I.jsx)("input",{type:"text",class:"form-control",name:"nameOnCard",placeholder:"nameOnCard",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.nameOnCardError})]})}),Object(I.jsx)("div",{class:"row",children:Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Card Number"}),Object(I.jsx)("input",{type:"text",class:"form-control",name:"cardNumber",placeholder:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022",pattern:"[0-9]{16}",required:!0,onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.cardNumberError})]})}),Object(I.jsxs)("div",{class:"row",children:[Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"Expiry Date"}),Object(I.jsx)("input",{type:"date",class:"form-control",name:"expiryDate",placeholder:"Expiry Date",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.expiryDateError})]}),Object(I.jsxs)("div",{class:"col",children:[Object(I.jsx)("label",{children:"CVV"}),Object(I.jsx)("input",{type:"number",class:"form-control",name:"cvv",placeholder:"CVV",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger  text-center my-4",children:this.state.cvvError})]})]}),Object(I.jsx)("button",{class:"btn btn-primary",onClick:this.submitCardDetails,children:"Confirm Booking"})]})]})]}),null!==this.state.selectedFlight&&Object(I.jsx)("button",{onClick:this.confirmBooking,class:"btn btn-info",children:"Make Payment and Confirm Booking"})]})}}]),s}(r.Component),me=(s(97),function(){return Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"footer-dark",children:Object(I.jsxs)("footer",{children:[Object(I.jsx)("section",{class:"",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col-md-12 item text ",children:Object(I.jsxs)("div",{className:"footerlast",children:[Object(I.jsx)("h2",{children:"ARS"}),Object(I.jsx)("p",{className:"head",children:"ARS is a one step solution for all of your air ticket needs. Apart from affordable flight booking you also get round the clock customer service."})]})})})}),Object(I.jsx)("div",{className:"col-12 col-md-12 text-center",children:Object(I.jsx)("img",{src:"https://www.travolook.in/images/cardshm.jpg"})}),Object(I.jsx)("p",{className:"copyright",children:Object(I.jsx)("b",{children:"@AirLineReservation&ManagementSystem 2023 All Rights Reserved"})})]})})})})}),Oe=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.fetchFlight})),a=(s.loading,s.error,s.response);Object(r.useEffect)((function(){t(ce())}),[]);return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Scheduled Flights"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Action"})]})}),Object(I.jsx)("tbody",{children:a&&a.data&&a.data.length>0&&a.data.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:t.airlineName}),Object(I.jsx)("td",{children:t.airlineNo}),Object(I.jsx)("td",{children:t.fromCity}),Object(I.jsx)("td",{children:t.toCity}),Object(I.jsx)("td",{children:t.departureDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.departureTime}),Object(I.jsx)("td",{children:t.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-outline-danger ",onClick:function(){return s=t.id,sessionStorage.setItem("aid",s),void e.history.push("/update_flight_form");var s},children:[" ","Update Flight Schedule"]})})]})}))})]})]})},pe=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.saveFlight=function(e){e.preventDefault();var t={id:a.state.id,departureTime:a.state.departureDate+" ".concat(a.state.departureTime),arrivalTime:a.state.arrivalDate+" ".concat(a.state.arrivalTime),departureDate:a.state.departureDate,arrivalDate:a.state.arrivalDate};T.editFlight(t).then((function(e){a.setState({message:"flight rescheduled successfully."}),a.props.history.push("/update_bookings")}))},a.state={id:"",departureTime:"",arrivalTime:"",departureDate:"",arrivalDate:""},a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.loadFlight()}},{key:"loadFlight",value:function(){var e=this;T.fetchFlightById(window.sessionStorage.getItem("aid")).then((function(t){var s=t.data.data;e.setState({id:s.id,departureTime:s.departureTime,arrivalTime:s.arrivalTime,departureDate:s.departureDate,arrivalDate:s.arrivalDate})}))}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Update Flight"}),Object(I.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(I.jsxs)("form",{children:[Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Flight ID:"}),Object(I.jsx)("input",{type:"text",placeholder:"id",name:"id",className:"form-control",readonly:"true",defaultValue:this.state.id})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Departure Time:"}),Object(I.jsx)("input",{placeholder:"departureTime",name:"departureTime",className:"form-control",value:this.state.departureTime,onChange:this.onChange})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Arrival Time:"}),Object(I.jsx)("input",{placeholder:"arrivalTime",name:"arrivalTime",className:"form-control",value:this.state.arrivalTime,onChange:this.onChange})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Departure Date:"}),Object(I.jsx)("input",{type:"date",placeholder:"departureDate",name:"departureDate",className:"form-control",value:this.state.departureDate,onChange:this.onChange})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Arrival Date:"}),Object(I.jsx)("input",{type:"date",placeholder:"arrivalDate",name:"arrivalDate",className:"form-control",value:this.state.arrivalDate,onChange:this.onChange})]}),Object(I.jsx)("button",{className:"btn btn-success",onClick:this.saveFlight,children:"Save"})]})})]})}}]),s}(r.Component),xe=function(e){var t=Object(r.useState)(""),s=Object(d.a)(t,2),a=s[0],c=s[1],n=Object(j.b)(),i=Object(j.c)((function(e){return e.fetchFlight})),o=(i.loading,i.error,i.response);Object(r.useEffect)((function(){n(ce())}),[]);var l=function(t){n(function(e){return function(t){t({type:Y});var s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(re)}},a=v+"/manager/cancel_flight/"+e;f.a.delete(a,s).then((function(e){t({type:V,payload:e.data})})).catch((function(e){t({type:Q,payload:e})}))}}(t)),"success"===o.status&&(c("Flight Deleted Successfully"),e.history.push("/manager"))};return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Flights List"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Action"})]})}),Object(I.jsx)("tbody",{children:o&&o.data&&o.data.length>0&&o.data.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:e.airlineName}),Object(I.jsx)("td",{children:e.airlineNo}),Object(I.jsx)("td",{children:e.fromCity}),Object(I.jsx)("td",{children:e.toCity}),Object(I.jsx)("td",{children:e.departureDate}),Object(I.jsx)("td",{children:e.arrivalDate}),Object(I.jsx)("td",{children:e.departureTime}),Object(I.jsx)("td",{children:e.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsx)("button",{onClick:function(){return l(e.id)},type:"submit",className:"btn btn-primary rounded submit p-2 px-4",children:"Cancel"})})]})}))})]}),Object(I.jsx)("h6",{Style:"color: red; text-align: center",children:a})]})},ge=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.fetchFlight})),a=(s.loading,s.error,s.response);Object(r.useEffect)((function(){t(ce())}),[]);return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Scheduled Flights"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Action"})]})}),Object(I.jsx)("tbody",{children:a&&a.data&&a.data.length>0&&a.data.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:t.airlineName}),Object(I.jsx)("td",{children:t.airlineNo}),Object(I.jsx)("td",{children:t.fromCity}),Object(I.jsx)("td",{children:t.toCity}),Object(I.jsx)("td",{children:t.departureDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.departureTime}),Object(I.jsx)("td",{children:t.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-outline-danger ",onClick:function(){return s=t.id,sessionStorage.setItem("aid",s),void e.history.push("/show_bookings");var s},children:[" ","Cancel Booking"]})})]})}))})]})]})},fe=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).state={bookings:[],message:null},a.cancelBooking=a.cancelBooking.bind(Object(le.a)(a)),a.reloadBookingList=a.reloadBookingList.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadBookingList()}},{key:"reloadBookingList",value:function(){var e=this;T.getBookingsByFlightId(window.sessionStorage.getItem("aid")).then((function(t){console.log(t),"success"==t.data.status?e.setState({bookings:t.data.data}):e.props.history.push("/manager"),console.log(e.state.bookings)}))}},{key:"cancelBooking",value:function(e){var t=this;T.cancelBookingByBookId(e).then((function(s){t.setState({message:"Booking cancelled successfully."}),t.setState({bookings:t.state.bookings.filter((function(t){return t.bookingId!==e}))}),0==t.state.bookings&&t.props.history.push("/manager")}))}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Bookings"}),Object(I.jsxs)("table",{className:"table table-striped",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"hidden",children:"Booking Id"}),Object(I.jsx)("th",{children:"Airline Id"}),Object(I.jsx)("th",{children:"User Id"}),Object(I.jsx)("th",{children:"Booking Date"}),Object(I.jsx)("th",{children:"Departure Date"}),Object(I.jsx)("th",{children:"Arrival Date"}),Object(I.jsx)("th",{children:"Total Fare"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:this.state.bookings.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.bookingId}),Object(I.jsx)("td",{children:t.airlineId}),Object(I.jsx)("td",{children:t.userId}),Object(I.jsx)("td",{children:t.bookingDate}),Object(I.jsx)("td",{children:t.journeyDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.totalFare}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-success",onClick:function(){return e.cancelBooking(t.bookingId)},children:[" ","Cancel Booking"]})})]},t.bookingId)}))})]})]})}}]),s}(r.Component),ve=sessionStorage.getItem("jwt_token"),ye=function(e){var t=Object(r.useState)(""),s=Object(d.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(""),i=Object(d.a)(n,2),o=i[0],l=i[1],h=Object(r.useState)(""),b=Object(d.a)(h,2),u=b[0],m=b[1],O=Object(r.useState)(""),p=Object(d.a)(O,2),x=p[0],g=p[1],y=Object(r.useState)(""),N=Object(d.a)(y,2),k=N[0],S=N[1],C=Object(r.useState)(1),D=Object(d.a)(C,2),w=(D[0],D[1],Object(r.useState)("")),A=Object(d.a)(w,2),F=A[0],E=A[1],T=Object(r.useState)(""),B=Object(d.a)(T,2),_=B[0],R=B[1],P=Object(r.useState)(""),L=Object(d.a)(P,2),M=L[0],U=L[1],q=Object(r.useState)(""),G=Object(d.a)(q,2),z=G[0],H=G[1],W=Object(r.useState)(""),J=Object(d.a)(W,2),Y=J[0],V=J[1],Q=Object(j.c)((function(e){return e.addManager})),ee=Q.loading,te=Q.error,se=Q.response,ae=Object(j.b)();return Object(r.useEffect)((function(){se&&"success"===se.status?(e.history.push("/admin"),ae({type:K})):(se&&"error"===se.status||te)&&alert("Appoint Manager failed")}),[ee,te,se]),Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"row justify-content-center",children:Object(I.jsx)("div",{className:"col-md-6 col-lg-5",children:Object(I.jsxs)("div",{className:"login-wrap p-4 p-md-5",children:[Object(I.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(I.jsx)("span",{className:"fa fa-user-o"})}),Object(I.jsx)("h3",{className:"text-center mb-4",children:"Add Manager "}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("input",{onChange:function(e){c(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"First Name",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:F})]}),Object(I.jsxs)("div",{className:"form-group my-2",children:[Object(I.jsx)("input",{onChange:function(e){l(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"Last Name",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:_})]}),Object(I.jsxs)("div",{className:"form-group my-2",children:[Object(I.jsx)("input",{onChange:function(e){m(e.target.value)},type:"text",className:"form-control rounded-left",placeholder:"Email",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:M})]}),Object(I.jsxs)("div",{className:"form-group d-flex my-2",children:[Object(I.jsx)("input",{onChange:function(e){g(e.target.value)},type:"password",className:"form-control rounded-left",placeholder:"Password",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:z})]}),Object(I.jsxs)("div",{className:"form-group d-flex my-2",children:[Object(I.jsx)("input",{onChange:function(e){S(e.target.value)},type:"number",className:"form-control rounded-left",placeholder:"Mobile Number",required:""}),Object(I.jsx)("h6",{className:"text-danger text-center",children:Y})]}),Object(I.jsx)("div",{className:"form-group my-3",children:Object(I.jsx)("button",{onClick:function(){E(a?"":"First Name required!!!!!!"),R(o?"":"Last Name required!!!!!!"),U(u?"":"Email required!!!!!!"),H(x?"":"Password required!!!!!!"),k.length<10?V("Mobile number required/enter valid number!!!!!!"):V(""),a&&o&&u&&x&&k.length>=10&&(console.log(k),ae(function(e,t,s,a,r){return function(c){c({type:$});var n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ve)}},i={firstName:e,lastName:t,email:s,password:a,mobileNo:r,status:1,roles:["ROLE_MANAGER"]},o=v+"/admin/add_manager";f.a.post(o,i,n).then((function(e){c({type:X,payload:e.data})})).catch((function(e){c({type:Z,payload:e})}))}}(a,o,u,x,k)))},type:"submit",className:"btn btn-primary rounded submit p-2 px-4",children:"add Manager"})})]})})})})},Ne=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.addFlight=function(e){if(e.preventDefault(),a.state.airlineName?a.setState({nameError:""}):a.setState({nameError:"Airline Name required!!!!!"}),a.state.airlineNo?a.setState({numberError:""}):a.setState({numberError:"Airline Number required!!!!!"}),a.state.departureDate?a.setState({departureDateError:""}):a.setState({departureDateError:"Departure Date required!!!!!"}),a.state.arrivalDate?a.setState({arrivalDateError:""}):a.setState({arrivalDateError:"Arrival Date required!!!!!"}),a.state.fromCity?a.setState({fromCityError:""}):a.setState({fromCityError:"From city required!!!!!"}),a.state.toCity?a.setState({toCityError:""}):a.setState({toCityError:"To city required!!!!!"}),a.state.departureTime?a.setState({departureTimeError:""}):a.setState({departureTimeError:"Departure time required!!!!!"}),a.state.arrivalTime?a.setState({arrivalTimeError:""}):a.setState({arrivalTimeError:"Arrival time required!!!!!"}),a.state.capacity?a.setState({capacityError:""}):a.setState({capacityError:"Capacity required!!!!!"}),a.state.economyFare?a.setState({economyFareError:""}):a.setState({economyFareError:"Economy class fare required!!!!!"}),a.state.businessFare?a.setState({businessFareError:""}):a.setState({businessFareError:"Business class fare required!!!!!"}),a.state.airlineName&&a.state.airlineNo&&a.state.arrivalDate&&a.state.departureDate&&a.state.fromCity&&a.state.toCity&&a.state.departureTime&&a.state.arrivalTime&&a.state.capacity&&a.state.economyFare&&a.state.businessFare){var t={cityNames:[a.state.fromCity,a.state.toCity]};T.addCities(t).then((function(e){console.log("in add Cities")}));var s={airlineName:a.state.airlineName,airlineNo:a.state.airlineNo,departureDate:a.state.departureDate,arrivalDate:a.state.arrivalDate,fromCity:a.state.fromCity,toCity:a.state.toCity,departureTime:a.state.departureDate+" ".concat(a.state.departureTime),arrivalTime:a.state.arrivalDate+" ".concat(a.state.arrivalTime),capacity:a.state.capacity,availableSeats:a.state.capacity,economyFare:a.state.economyFare,businessFare:a.state.businessFare};T.addAirline(s).then((function(e){a.setState({message:"flight Added successfully."}),a.props.history.push("/manager")}))}},a.state={airlineName:"",airlineNo:"",departureDate:"",arrivalDate:"",fromCity:"",toCity:"",departureTime:"",arrivalTime:"",capacity:0,availableSeats:0,economyFare:0,businessFare:0,nameError:"",numberError:"",departureDateError:"",arrivalDateError:"",fromCityError:"",toCityError:"",departureTimeError:"",arrivalTimeError:"",capacityError:"",availableSeatsError:"",economyFareError:"",businessFareError:""},a.addFlight=a.addFlight.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Add Airline"}),Object(I.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(I.jsxs)("form",{children:[Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Airline Name"}),Object(I.jsx)("input",{type:"text",placeholder:"airlineName",name:"airlineName",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.nameError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Airline Number"}),Object(I.jsx)("input",{type:"text",placeholder:"airlineNo",name:"airlineNo",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.numberError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Departure Date"}),Object(I.jsx)("input",{type:"date",placeholder:"departureDate",name:"departureDate",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.departureDateError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Arrival Date"}),Object(I.jsx)("input",{type:"date",placeholder:"arrivalDate",name:"arrivalDate",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.arrivalDateError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"From City"}),Object(I.jsx)("input",{type:"text",placeholder:"fromCity",name:"fromCity",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.fromCityError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"To City"}),Object(I.jsx)("input",{type:"text",placeholder:"toCity",name:"toCity",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.toCityError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Departure Time[24 hrs format]"}),Object(I.jsx)("input",{type:"text",placeholder:"00:00:00",name:"departureTime",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.departureTimeError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Arrival Time[24 hrs format]"}),Object(I.jsx)("input",{type:"text",placeholder:"00:00:00",name:"arrivalTime",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.arrivalTimeError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Capacity"}),Object(I.jsx)("input",{type:"number",placeholder:"capacity",name:"capacity",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.capacityError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Economy Fare"}),Object(I.jsx)("input",{type:"number",placeholder:"economyFare",name:"economyFare",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.economyFareError})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{children:"Business Fare"}),Object(I.jsx)("input",{type:"number",placeholder:"businessFare",name:"businessFare",className:"form-control",onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center",children:this.state.businessFareError})]}),Object(I.jsx)("button",{className:"btn btn-primary",onClick:this.addFlight,children:"Add Airline"})]})})]})}}]),s}(r.Component),ke=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.fetchFlight})),a=(s.loading,s.error,s.response);Object(r.useEffect)((function(){t(ce())}),[]);return Object(I.jsx)("div",{children:Object(I.jsx)("section",{class:"content-info",children:Object(I.jsx)("div",{class:"container paddings-mini",children:Object(I.jsx)("div",{class:"row card-table table",children:Object(I.jsx)("div",{class:"col-xs-12 col-sm-12 col-md-12 ",children:Object(I.jsxs)("table",{class:"table table-responsive table-hover result-point",children:[Object(I.jsx)("thead",{class:"point-table-head",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{class:"text-left",children:"Airline Name"}),Object(I.jsx)("th",{class:"text-left",children:"Airline Number"}),Object(I.jsx)("th",{class:"text-center",children:"From"}),Object(I.jsx)("th",{class:"text-center",children:"To"}),Object(I.jsx)("th",{class:"text-center",children:"Departure Date"}),Object(I.jsx)("th",{class:"text-center",children:"Arrival Date"}),Object(I.jsx)("th",{class:"text-center",children:"Departure Time"}),Object(I.jsx)("th",{class:"text-center",children:"Arrival Time"}),Object(I.jsx)("th",{class:"text-center",children:"Action"})]})}),Object(I.jsx)("tbody",{class:"text-center",children:a&&a.data&&a.data.length>0&&a.data.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:t.airlineName}),Object(I.jsx)("td",{children:t.airlineNo}),Object(I.jsx)("td",{children:t.fromCity}),Object(I.jsx)("td",{children:t.toCity}),Object(I.jsx)("td",{children:t.departureDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.departureTime}),Object(I.jsx)("td",{children:t.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-outline-danger ",onClick:function(){return s=t.id,sessionStorage.setItem("airId",s),void e.history.push("/list");var s},children:[" ","Get List"]})})]})}))})]})})})})})})},Se=sessionStorage.getItem("jwt_token"),Ce=new(function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,[{key:"fetchPassengersByFlightId",value:function(e){return f.a.get(v+"/manager/passenger_list/"+e,{headers:{Authorization:"Bearer ".concat(Se)}})}}]),e}()),De=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).state={passengers:[],message:null},a.reloadPassengerList=a.reloadPassengerList.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadPassengerList()}},{key:"reloadPassengerList",value:function(){var e=this;Ce.fetchPassengersByFlightId(window.sessionStorage.getItem("airId")).then((function(t){"success"==t.data.status?e.setState({passengers:t.data.data}):(alert("No Passengers are added to this airline"),e.props.history.push("/passenger_list")),console.log(e.state.passengers)}))}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Passenger List"}),Object(I.jsxs)("table",{class:"table caption-top table-striped table-responsive table-hover result-point",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Passenger Name"}),Object(I.jsx)("th",{scope:"col",children:"Age"}),Object(I.jsx)("th",{scope:"col",children:"Passenger Type"}),Object(I.jsx)("th",{scope:"col",children:"Seat Number"})]})}),Object(I.jsx)("tbody",{children:this.state.passengers.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:e.passengerName}),Object(I.jsx)("td",{children:e.passengerAge}),Object(I.jsx)("td",{children:e.gender}),Object(I.jsx)("td",{children:e.seatNumber})]})}))})]})]})}}]),s}(r.Component),we=function(e){var t=Object(j.b)(),s=Object(j.c)((function(e){return e.fetchFlight})),a=(s.loading,s.error,s.response);Object(r.useEffect)((function(){t(ce())}),[]);return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Scheduled Flights"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline Name"}),Object(I.jsx)("th",{scope:"col",children:"Airline Number"}),Object(I.jsx)("th",{scope:"col",children:"From"}),Object(I.jsx)("th",{scope:"col",children:"To"}),Object(I.jsx)("th",{scope:"col",children:"Departure Date"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Date"}),Object(I.jsx)("th",{scope:"col",children:"Departure Time"}),Object(I.jsx)("th",{scope:"col",children:"Arrival Time"}),Object(I.jsx)("th",{scope:"col",children:"Action"})]})}),Object(I.jsx)("tbody",{children:a&&a.data&&a.data.length>0&&a.data.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:t.airlineName}),Object(I.jsx)("td",{children:t.airlineNo}),Object(I.jsx)("td",{children:t.fromCity}),Object(I.jsx)("td",{children:t.toCity}),Object(I.jsx)("td",{children:t.departureDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.departureTime}),Object(I.jsx)("td",{children:t.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-outline-primary ",onClick:function(){return s=t.id,sessionStorage.setItem("airId",s),void e.history.push("/feedback_list");var s},children:[" ","Show FeedBacks"]})})]})}))})]})]})},Ae=(s(98),sessionStorage.getItem("jwt_token")),Fe=new(function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,[{key:"fetchFeedbackByFlightId",value:function(e){return f.a.get(v+"/admin/feedback",{params:{airId:e},headers:{Authorization:"Bearer ".concat(Ae)}})}},{key:"getTotalBookings",value:function(){return f.a.get(v+"/admin/get_total_bookings",{headers:{Authorization:"Bearer ".concat(Ae)}})}},{key:"getCancelledBookings",value:function(){return f.a.get(v+"/admin/get_cancelled_bookings",{headers:{Authorization:"Bearer ".concat(Ae)}})}},{key:"getAirlineRevenue",value:function(){return f.a.get(v+"/admin/get_airline_revenue",{headers:{Authorization:"Bearer ".concat(Ae)}})}}]),e}()),Ee=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).state={bookings:[],message:null},a.reloadFeedbackList=a.reloadFeedbackList.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadFeedbackList(),console.log("in component did mount")}},{key:"reloadFeedbackList",value:function(){var e=this;console.log("in reloade feedback list"),Fe.fetchFeedbackByFlightId(window.sessionStorage.getItem("airId")).then((function(t){console.log(t),"success"==t.data.status?(e.setState({bookings:t.data.data}),window.sessionStorage.removeItem("airId")):(window.sessionStorage.removeItem("airId"),e.props.history.push("/admin")),console.log(e.state.bookings)}))}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(_,{title:"Feedback List"}),Object(I.jsxs)("table",{class:"table caption-top",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",children:"Airline ID"}),Object(I.jsx)("th",{scope:"col",children:"Booking ID"}),Object(I.jsx)("th",{scope:"col",children:"User ID"}),Object(I.jsx)("th",{scope:"col",children:"Customer Feedback"})]})}),Object(I.jsx)("tbody",{children:this.state.bookings.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{scope:"row",children:e.airlineId}),Object(I.jsx)("td",{children:e.bookingId}),Object(I.jsx)("td",{children:e.userId}),Object(I.jsx)("td",{children:e.feedback})]})}))})]})]})}}]),s}(r.Component),Te=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.saveUser=function(e){if(e.preventDefault(),a.state.password.length<5?a.setState({passwordError:"Enter a valid Password"}):a.setState({passwordError:""}),a.state.mobileNo?a.setState({mobileNoError:""}):a.setState({mobileNoError:"Please enter mobile number"}),a.state.password&&a.state.mobileNo){var t={firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,password:a.state.password,mobileNo:a.state.mobileNo,status:a.state.status};be.editUser(t,window.sessionStorage.getItem("userid")).then((function(e){a.setState({message:"Profile Updated Successfully"}),"ADMIN"==sessionStorage.getItem("userRole")&&a.props.history.push("/admin"),"MANAGER"==sessionStorage.getItem("userRole")&&a.props.history.push("/manager"),"CUSTOMER"==sessionStorage.getItem("userRole")&&a.props.history.push("/customer")}))}},a.state={firstName:"",lastName:"",email:"",password:"",mobileNo:""},a.loadUser=a.loadUser.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"loadUser",value:function(){var e=this;be.fetchUserById(window.sessionStorage.getItem("userid")).then((function(t){var s=t.data.data;console.log(s.firstName),e.setState({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password,mobileNo:s.mobileNo,status:s.status,passwordError:"",mobileNoError:""})}))}},{key:"render",value:function(){return Object(I.jsx)("div",{children:Object(I.jsx)("div",{class:"container rounded mt-5 mb-5",children:Object(I.jsxs)("div",{class:"row",children:[Object(I.jsx)("div",{class:"col-md-3 border-right",children:Object(I.jsx)("div",{class:"d-flex flex-column align-items-center text-center p-3 py-5",children:Object(I.jsx)("img",{class:"rounded-circle mt-5",width:"150px",src:"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg"})})}),Object(I.jsx)("div",{class:"col-md-5 border-right",children:Object(I.jsxs)("div",{class:"p-3 py-5",children:[Object(I.jsx)("div",{class:"d-flex justify-content-between align-items-center mb-3",children:Object(I.jsx)("h4",{class:"text-right",children:"Edit Profile"})}),Object(I.jsxs)("div",{class:"row mt-2",children:[Object(I.jsxs)("div",{class:"col-md-6",children:[Object(I.jsx)("label",{children:"First Name"}),Object(I.jsx)("input",{type:"text",placeholder:"firstName",name:"firstName",className:"form-control",readonly:"true",defaultValue:this.state.firstName})]}),Object(I.jsxs)("div",{class:"col-md-6",children:[Object(I.jsx)("label",{children:"Last Name"}),Object(I.jsx)("input",{type:"text",placeholder:"lastName",name:"lastName",className:"form-control",readonly:"true",value:this.state.lastName})]})]}),Object(I.jsxs)("div",{class:"row mt-3",children:[Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsx)("label",{children:"Email"}),Object(I.jsx)("input",{placeholder:"email",name:"email",className:"form-control",readonly:"true",value:this.state.email})]}),Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsx)("label",{class:"labels",children:"Password"}),Object(I.jsx)("input",{type:"text",placeholder:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:this.state.passwordError})]}),Object(I.jsxs)("div",{class:"col-md-12",children:[Object(I.jsx)("label",{className:"labels",children:"Mobile Number"}),Object(I.jsx)("input",{type:"number",placeholder:"mobileNo",name:"mobileNo",className:"form-control",value:this.state.mobileNo,onChange:this.onChange}),Object(I.jsx)("h6",{className:"text-danger text-center my-4",children:this.state.mobileNoError})]})]}),Object(I.jsx)("div",{class:"mt-5 text-center",children:Object(I.jsx)("button",{class:"btn btn-primary profile-button",type:"button",onClick:this.saveUser,children:"Save Profile"})})]})})]})})})}}]),s}(r.Component),Ie=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).state={airline:[],message:null},a.updateBooking=a.updateBooking.bind(Object(le.a)(a)),a.reloadAirlineList=a.reloadAirlineList.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadAirlineList()}},{key:"reloadAirlineList",value:function(){var e=this;console.log(window.sessionStorage.getItem("aid")),T.fetchFlightById(window.sessionStorage.getItem("aid")).then((function(t){console.log(t),"success"==t.data.status?e.setState({airline:t.data.data}):e.props.history.push("/manager"),console.log(e.state.airline)}))}},{key:"updateBooking",value:function(e){var t=this;console.log(e),T.updateBooking(e).then((function(e){t.setState({message:"Bookings updated successfully."}),t.props.history.push("/manager")}))}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Update Bookings"}),Object(I.jsxs)("table",{className:"table table-striped",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"hidden",children:"Airline Id"}),Object(I.jsx)("th",{children:"Airline Name"}),Object(I.jsx)("th",{children:"Airline Number"}),Object(I.jsx)("th",{children:"From"}),Object(I.jsx)("th",{children:"To"}),Object(I.jsx)("th",{children:"Departure Date"}),Object(I.jsx)("th",{children:"Arrival Date"}),Object(I.jsx)("th",{children:"Departure Time"}),Object(I.jsx)("th",{children:"Arrival Time"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:this.state.airline.id}),Object(I.jsx)("td",{children:this.state.airline.airlineName}),Object(I.jsx)("td",{children:this.state.airline.airlineNo}),Object(I.jsx)("td",{children:this.state.airline.fromCity}),Object(I.jsx)("td",{children:this.state.airline.toCity}),Object(I.jsx)("td",{children:this.state.airline.departureDate}),Object(I.jsx)("td",{children:this.state.airline.arrivalDate}),Object(I.jsx)("td",{children:this.state.airline.departureTime}),Object(I.jsx)("td",{children:this.state.airline.arrivalTime}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-success",onClick:function(){return e.updateBooking(e.state.airline.id)},children:[" ","Update All Bookings"]})})]})})]})]})}}]),s}(r.Component),Be=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).state={bookings:[],message:null},a.reloadBookingList=a.reloadBookingList.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadBookingList()}},{key:"reloadBookingList",value:function(){var e=this;be.getbookingsByUserId(window.sessionStorage.getItem("userid")).then((function(t){console.log(t),"success"==t.data.status?e.setState({bookings:t.data.data}):e.props.history.push("/customer/search_flight"),console.log(e.state.bookings)}))}},{key:"postFeedback",value:function(e){sessionStorage.setItem("bid",e),this.props.history.push("/post_Customer_Feedback")}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Bookings"}),Object(I.jsxs)("table",{className:"table table-striped",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"hidden",children:"Booking Id"}),Object(I.jsx)("th",{children:"Airline Id"}),Object(I.jsx)("th",{children:"User Id"}),Object(I.jsx)("th",{children:"Booking Date"}),Object(I.jsx)("th",{children:"Departure Date"}),Object(I.jsx)("th",{children:"Arrival Date"}),Object(I.jsx)("th",{children:"Total Fare"}),Object(I.jsx)("th",{children:"Status"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:this.state.bookings.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.bookingId}),Object(I.jsx)("td",{children:t.airlineId}),Object(I.jsx)("td",{children:t.userId}),Object(I.jsx)("td",{children:t.bookingDate}),Object(I.jsx)("td",{children:t.journeyDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.totalFare}),1==t.status&&Object(I.jsx)("td",{children:"Active"}),0==t.status&&Object(I.jsx)("td",{children:"Cancelled"}),Object(I.jsx)("td",{children:Object(I.jsxs)("button",{className:"btn btn-success",onClick:function(){return e.postFeedback(t.bookingId)},children:[" ","Post feedback"]})})]},t.bookingId)}))})]})]})}}]),s}(r.Component),_e=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).postFeedback=function(e){e.preventDefault();var t={feedback:a.state.feedback};be.postFeedback(t,window.sessionStorage.getItem("bid")).then((function(e){console.log("inside api service"),sessionStorage.removeItem("bid"),a.props.history.push("/customer/search_flight")}))},a.onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.state={feedback:""},a.postFeedback=a.postFeedback.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{children:"Feedback"}),Object(I.jsx)("div",{className:"login-wrap p-1 p-md-5",children:Object(I.jsxs)("div",{className:"icon align-items-center justify-content-center",children:[Object(I.jsx)("textarea",{type:"text-area",rows:"4",Style:"resize:none",className:"form-control ",name:"feedback",placeholder:"Feedback",onChange:this.onChange}),Object(I.jsx)("button",{onClick:this.postFeedback,type:"submit",className:"btn btn-primary rounded submit p-2 px-4 my-4",children:"Submit"})]})})]})}}]),s}(r.Component),Re=(s(111),function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(S.a)(this,s),t.apply(this,arguments)}return Object(C.a)(s,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"about-airline",children:[Object(I.jsx)("h1",{style:{textAlign:"center"},children:Object(I.jsx)("b",{children:"About Us"})})," ",Object(I.jsx)("br",{})," ",Object(I.jsx)("br",{}),Object(I.jsxs)("h6",{children:[" ",Object(I.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0 Airline Reservation And Management System is a leading travel correlation web portal that gives you a chance to discover cheap flights tickets on the web. Regardless of whether you're going is just a tick away! You can look at flight tolls, from all the best web travel destinations in a single area. Finding cheap flights has never been less demanding. Spare time, set aside some cash; there's no compelling reason to visit a great many websites to discover cheap flight tickets or the best deal. It's everything here for you in one area Airline Reservation And Management System-we'll get you where you need to go. Airline Reservation And Management System is the leading travel site, a place where individuals are enlivened to plan and book straightforwardly from us with a significant number of flight ticket choices at the best costs. We are impartial and free, which implies that a million individuals who use us consistently can confide in our numerous scope of flight, alternatives. Our mystery is in our best exclusive innovation that associates individuals straightforwardly to everything the travel business brings to the table."})," "]}),Object(I.jsx)("br",{}),Object(I.jsxs)("h6",{children:[" ",Object(I.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0 Going inside a specific budget plan isn't just important yet additionally fundamental for you to capitalize on your vacation. Having a profound comprehension of the considerable number of elements of traveling, we are submitted towards our goal of making your travel wants to work out as expected. In our travel gateway, you can scan for the line-up of flight, bargains at costs that fit your financial plan."})," "]}),Object(I.jsx)("br",{}),Object(I.jsx)("h6",{children:Object(I.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0 We take off aggressive costs on flight tickets, from probably the most confided companies. We offer you energizing deals to commence your get-away with the goal that it doesn't put an opening in your pocket. You can rest guaranteed that you are getting the best flight deal alongside value reserve funds."})}),Object(I.jsx)("br",{}),Object(I.jsx)("h6",{children:Object(I.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0 As yet asking why you should book with us? We have a smooth and hassle free reserving procedure that can provide you with astonishing travel deals. If you are worn out on looking for the best charges, Airline Reservation And Management System is here to encourage you."})})]}),Object(I.jsx)("div",{})]})}}]),s}(r.Component)),Pe=s(61),Le=s.n(Pe),Me=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(e){var a;return Object(S.a)(this,s),(a=t.call(this,e)).onClickButton=function(){a.setState({Open:!0})},a.onCancelModal=function(){a.setState({Open:!1})},a.state={bookings:[],message:null,Open:!1},a.cancelBooking=a.cancelBooking.bind(Object(le.a)(a)),a.reloadBookingList=a.reloadBookingList.bind(Object(le.a)(a)),a.onClickButton=a.onClickButton.bind(Object(le.a)(a)),a.onCancelModal=a.onCancelModal.bind(Object(le.a)(a)),a}return Object(C.a)(s,[{key:"componentDidMount",value:function(){this.reloadBookingList()}},{key:"reloadBookingList",value:function(){var e=this;T.getBookingsByUserId(window.sessionStorage.getItem("userid")).then((function(t){console.log(t),"success"==t.data.status?e.setState({bookings:t.data.data}):e.props.history.push("/customer/search_flight"),console.log(e.state.bookings)}))}},{key:"cancelBooking",value:function(e){var t=this;T.cancelBookingByUserId(e).then((function(s){t.setState({Open:!1}),t.setState({message:"Booking cancelled successfully."}),t.setState({bookings:t.state.bookings.filter((function(t){return t.bookingId!==e}))}),0==t.state.bookings&&t.props.history.push("/customer/search_flight")}))}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center",children:"Bookings"}),Object(I.jsxs)("table",{className:"table table-striped",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Booking Id"}),Object(I.jsx)("th",{children:"Airline Id"}),Object(I.jsx)("th",{children:"User Id"}),Object(I.jsx)("th",{children:"Booking Date"}),Object(I.jsx)("th",{children:"Departure Date"}),Object(I.jsx)("th",{children:"Arrival Date"}),Object(I.jsx)("th",{children:"Total Fare"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:this.state.bookings.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.bookingId}),Object(I.jsx)("td",{children:t.airlineId}),Object(I.jsx)("td",{children:t.userId}),Object(I.jsx)("td",{children:t.bookingDate}),Object(I.jsx)("td",{children:t.journeyDate}),Object(I.jsx)("td",{children:t.arrivalDate}),Object(I.jsx)("td",{children:t.totalFare}),Object(I.jsxs)("td",{children:[Object(I.jsxs)("button",{className:"btn btn-success",onClick:function(){return e.onClickButton()},children:[" ","Cancel Booking"]}),Object(I.jsxs)(Le.a,{isOpen:e.state.Open,style:{overlay:{backgroundColor:"grey"},content:{paddingTop:"200px",textAlign:"center"}},children:[Object(I.jsx)("h1",{children:"Refund Details"}),Object(I.jsx)("br",{}),Object(I.jsxs)("h4",{children:["Refund Amount Of : ",t.totalFare/2," will be Initiated Shortly"]}),Object(I.jsx)("br",{}),Object(I.jsx)("h4",{children:"Are You Sure You Want To Cancel Your booking"}),Object(I.jsx)("br",{}),Object(I.jsx)("button",{className:"btn btn-success mx-3",onClick:e.onCancelModal,children:" No "}),Object(I.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.cancelBooking(t.bookingId)},children:" Yes "})]})]})]},t.bookingId)}))})]})]})}}]),s}(r.Component),Ue=(s(121),function(){return Object(I.jsx)("div",{class:"card-deck",style:{marginLeft:"50px",marginRight:"50px"},children:Object(I.jsx)("table",{class:"tableContact",children:Object(I.jsxs)("td",{children:[Object(I.jsxs)("div",{style:{opacity:"0.75"},children:[Object(I.jsx)("img",{class:"card-img-top cardimg",src:"https://cdn.icon-icons.com/icons2/1130/PNG/512/calltelephoneauricularincircularbutton_80086.png",alt:"Card image"}),Object(I.jsxs)("div",{class:"card-body text-center",style:{color:"black"},children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{class:"card-text",children:Object(I.jsxs)("b",{children:["Sometime you need a little help from your friend.",Object(I.jsx)("br",{}),"Don't worry we are here for you..!"]})}),Object(I.jsx)("h4",{class:"card-title",children:"Phone Number "}),Object(I.jsx)("p",{class:"card-text",children:Object(I.jsx)("b",{children:" 1800-2386-4592 (Toll Free)"})}),Object(I.jsx)("h4",{class:"card-title",children:" Business Hours  : \xa0 Mon - Fri \xa0 9AM - 6pm"})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]})})})});var qe=function(){return Object(I.jsx)("div",{children:Object(I.jsx)(o.a,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(ae,{}),Object(I.jsx)(l.c,{children:Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(l.a,{path:"/",exact:!0,component:L}),Object(I.jsx)(l.a,{path:"/signin",component:L}),Object(I.jsx)(l.a,{path:"/signup",component:se}),Object(I.jsx)(l.a,{path:"/contactUs",component:Ue}),Object(I.jsx)(l.a,{path:"/manager",component:ne}),Object(I.jsx)(l.a,{path:"/admin",component:we}),Object(I.jsx)(l.a,{path:"/customer/search_flight",component:ue}),Object(I.jsx)(l.a,{path:"/update_flight",component:Oe}),Object(I.jsx)(l.a,{path:"/update_flight_form",component:pe}),Object(I.jsx)(l.a,{path:"/cancel_flight",component:xe}),Object(I.jsx)(l.a,{path:"/cancel_booking",component:ge}),Object(I.jsx)(l.a,{path:"/show_bookings",component:fe}),Object(I.jsx)(l.a,{path:"/add_manager",component:ye}),Object(I.jsx)(l.a,{path:"/add_airline",component:Ne}),Object(I.jsx)(l.a,{path:"/passenger_list",component:ke}),Object(I.jsx)(l.a,{path:"/list",component:De}),Object(I.jsx)(l.a,{path:"/show_feedback",component:we}),Object(I.jsx)(l.a,{path:"/feedback_list",component:Ee}),Object(I.jsx)(l.a,{path:"/edit_profile",component:Te}),Object(I.jsx)(l.a,{path:"/update_bookings",component:Ie}),Object(I.jsx)(l.a,{path:"/customer_showBookings",component:Be}),Object(I.jsx)(l.a,{path:"/post_Customer_Feedback",component:_e}),Object(I.jsx)(l.a,{path:"/about",component:Re}),Object(I.jsx)(l.a,{path:"/show_userbookings",component:Me})]})}),Object(I.jsx)(me,{})]})})})},Ge=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,125)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),a(e),r(e),c(e),n(e)}))};i.a.render(Object(I.jsx)(j.a,{store:te,children:Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(qe,{})})}),document.getElementById("root")),Ge()},40:function(e,t,s){},67:function(e,t,s){},92:function(e,t,s){},97:function(e,t,s){}},[[122,1,2]]]);
//# sourceMappingURL=main.593776f0.chunk.js.map